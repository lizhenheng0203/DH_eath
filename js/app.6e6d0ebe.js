(function(t){function e(e){for(var r,a,o=e[0],s=e[1],c=e[2],p=0,h=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(h.length)h.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var t,e=0;e<l.length;e++){for(var n=l[e],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(l.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},l=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=s;l.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},2848:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"con"},[t.check?n("HelloWorld",{attrs:{hengTest:t.hengTest}}):t._e(),n("div",{staticClass:"inp"},[n("span",[t._v("输入球的个数(数量不要太大)：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.num1,expression:"num1"}],attrs:{type:"text"},domProps:{value:t.num1},on:{input:function(e){e.target.composing||(t.num1=e.target.value)}}}),n("button",{on:{click:function(e){return t.qrBtn()}}},[t._v("确认")])])],1)])},l=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"sphere"},[n("ul",t._l(t.hengTest,(function(e,r){return n("li",{key:r},[n("div",{staticClass:"star",class:"star"+r,on:{click:function(e){return t.clickEvent(r)}}},[n("div",{staticClass:"con"},[n("div",{staticClass:"con1"},[t._v(t._s(e.title))]),n("div",{staticClass:"value"},[n("strong",[t._v(t._s(e.num))]),n("span",[t._v(t._s(e.unit))])]),n("div",{staticClass:"ratio"},[t._v(" 相比："),n("span",{staticClass:"red"},[t._v(t._s(e.percent))])])])])])})),0)]),n("div",{staticClass:"earth"}),n("div",{staticClass:"region-name"},[n("span",{staticClass:"all",on:{click:t.allClick}},[t._v("地球")])])])},o=[],s=(n("99af"),n("fb6a"),n("a9e3"),n("ac1f"),n("1276"),n("159b"),{mounted:function(){this.updateEath();var t=document.querySelector(".sphere").clientWidth,e=document.querySelector(".sphere").clientHeight;this.ballRadius(),this.ani_track(t,e,0),this.ballInitPos(),this.letBallSport(this.everyStepTime,0),this.realTimeSport(),this.updateRatioColor(),this.updateByBall()},updated:function(){console.log("updated"),this.updateEath();var t=document.querySelector(".sphere").clientWidth,e=document.querySelector(".sphere").clientHeight;this.ballRadius(),this.ani_track(t,e,0),this.ballInitPos(),this.letBallSport(this.everyStepTime,0),this.realTimeSport(),this.updateRatioColor(),this.updateByBall()},beforeUpdate:function(){console.log("beforeUpdate")},beforeDestroy:function(){console.log("beforeDestroy")},destroyed:function(){clearInterval(this.parseTime1),clearInterval(this.parseTime2),clearTimeout(this.parseTime3),this.parseTime1=null,this.parseTime2=null,this.parseTime3=null,console.log("destroyed")},watch:{},props:{hengTest:{type:Array,default:function(){return[{title:"小球0",num:78.1,unit:"个",percent:"+10%"},{title:"小球1",num:28.1,unit:"万元",percent:"-30%"},{title:"小球2",num:58.1,unit:"万元",percent:"10%"},{title:"小球3",num:25.1,unit:"斤",percent:"+20%"},{title:"小球4",num:72.1,unit:"个",percent:"+26%"},{title:"小球5",num:98.11,unit:"元",percent:"-12%"},{title:"小球6",num:671.1,unit:"两",percent:"+10%"},{title:"小球7",num:671.1,unit:"两",percent:"+10%"},{title:"小球8",num:671.1,unit:"两",percent:"+10%"},{title:"小球9",num:671.1,unit:"两",percent:"+10%"}]}},time:{type:Number,default:function(){return 20}},clickTime:{type:Number,default:function(){return 5}},ballParseTime:{type:Number,default:function(){return 3}},maxScale:{default:function(){return 1.3}},minScale:{default:function(){return.7}},comSport:{type:Number,default:function(){return 700}},widthRatio:{default:function(){return.41}},heightRatio:{default:function(){return.16}},ballR:{default:function(){return 0}}},data:function(){return{ballSportXY:[],ballSportXYReverse:[],parseTime1:null,step:0,anyTimeXY:[],ballFlag:"",parseTime2:null,parseTime3:null}},computed:{ballNUm:function(){return this.hengTest.length},ballEveryStep:function(){return this.com/this.ballNUm},everyStepTime:function(){return this.time/this.com*1e3},clickTimeMS:function(){return this.clickTime/this.com*1e3},ballParseTimeMS:function(){return 1e3*this.ballParseTime},com:function(){return parseInt(this.comSport/this.ballNUm)*this.ballNUm},ballRR:function(){if(0==this.ballR){var t=document.querySelector(".star"),e=window.getComputedStyle(t,null).width;return parseInt(e)}return this.ballR}},methods:{allClick:function(){this.$emit("nationClick")},updateEath:function(){var t=document.querySelector(".content"),e=window.getComputedStyle(t,null).width,n=this.com/7.55;t.setAttribute("style","height:".concat(e,";"));var r=parseInt(e)/883,i=document.querySelector(".earth");i.setAttribute("style","z-index: ".concat(parseInt(n),";"));var l=document.querySelector(".region-name");l.setAttribute("style","z-index: ".concat(parseInt(n+1),";transform: scale(").concat(r,");"))},updateRatioColor:function(){},updateByBall:function(){this.hengTest.forEach((function(t,e){var n=document.querySelector(".star"+e).children[0],r=n.children[2],i=parseInt(window.getComputedStyle(n,null).width);console.log(i);var l=i/136;console.log(l),n.setAttribute("style","transform: scale(".concat(l,");"));var a=r.children[0],o=a.innerHTML.slice(0,1);"+"==o?a.setAttribute("style","color: red;"):"-"==o&&a.setAttribute("style","color: green;")}))},ballRadius:function(){if(0==this.R){var t=document.querySelector(".star");this.R=window.getComputedStyle(t,null).width}},ani_track:function(t,e,n){var r=parseInt(t)*this.widthRatio,i=parseInt(e)*this.heightRatio,l=n+90;l>=360&&(l-=360);for(var a=l*(Math.PI/180),o=360/this.com*(Math.PI/180),s=this.maxScale,c=this.minScale,u=(s-c)/this.com*2,p=this.countInitScale(l,o,s,c,u),h=parseInt(this.com/2)+1,m=0;m<this.com;m++){var d=Math.floor(r*Math.cos(a)*100)/100,f=Math.floor(i*Math.sin(a)*100)/100;a+=o,p+=this.addScale(d,f)*u;var v={x:d,y:f,s:p,z:h};d>=0?h++:h--,this.ballSportXY.push(v),this.ballSportXYReverse.unshift({ballXYS:v})}},addScale:function(t,e){var n=parseInt(t),r=parseInt(e);return n>0&&0!=r?1:n<0&&0!=r?-1:0},countInitScale:function(t,e,n,r,i){var l=0,a=t%90,o=(a-0)*(Math.PI/180)/e*i;return l=t>=0&&t<90?o+(n+r)/2:t>=90&&t<180?n-o:t>=180&&t<270?(n+r)/2-o:r+o,l},letBallSport:function(t,e){var n=this;clearInterval(this.parseTime1),clearTimeout(this.parseTime3),this.parseTime1=setInterval((function(){n.anyTimeXY=[],n.hengTest.forEach((function(t,e){var r=(e*n.ballEveryStep+n.step)%n.com,i=n.ballSportXY[r].x,l=n.ballSportXY[r].y,a=n.ballSportXY[r].s,o=n.ballSportXY[r].z;n.anyTimeXY.push({x:i,y:l,s:a});var s=document.querySelector(".star"+e);s.setAttribute("style","transform: translate(".concat(i,"px, ").concat(l,"px) scale(").concat(a,");width:").concat(n.ballRR,"px;height:").concat(n.ballRR,"px;\n                    z-index: ").concat(o))})),0==e?(n.step++,n.step==n.com&&(n.step=0)):(0==n.step&&(n.step=n.com),n.step--)}),t)},ballInitPos:function(){var t=this;this.hengTest.forEach((function(e,n){var r=n*t.ballEveryStep,i=t.ballSportXY[r].x,l=t.ballSportXY[r].y,a=t.ballSportXY[r].s,o=t.ballSportXY[r].z,s=document.querySelector(".star"+n);s.setAttribute("style","transform: translate(".concat(i,"px, ").concat(l,"px) scale(").concat(a,");width:").concat(t.ballRR,"px;height:").concat(t.ballRR,"px;\n                z-index: ").concat(o))}))},clickEvent:function(t){var e=document.querySelector(".star"+t),n=window.getComputedStyle(e,null).getPropertyValue("transform"),r=n.slice(6).split(",")[4];r<0?(this.clickOneParse(t),this.letBallSport(this.clickTimeMS,1)):(this.clickOneParse(t),this.letBallSport(this.clickTimeMS,0)),this.clickBallLight(t),this.$emit("ballClick",t)},clickOneParse:function(t){var e=this;this.ballFlag=[],this.hengTest.forEach((function(n,r){r!=t&&e.ballFlag.push(r)}))},realTimeSport:function(){var t=this;this.parseTime2=setInterval((function(){t.hengTest.forEach((function(e,n){var r=document.querySelector(".star"+n),i=window.getComputedStyle(r,null).getPropertyValue("transform"),l=i.slice(6).split(",")[4],a=i.slice(6,-1).split(",")[5];if(l==t.ballSportXY[0].x&&-1==t.ballFlag.indexOf(n)&&a>0){clearInterval(t.parseTime1),t.ballFlag=[],t.ballFlag.push(n);var o=document.getElementsByClassName("star"+n);o[0].classList.add("clickBall"),t.parseTime3=setTimeout((function(){o[0].classList.remove("clickBall"),t.letBallSport(t.everyStepTime,0)}),t.ballParseTimeMS)}}),0)}))},clickBallLight:function(t){this.hengTest.forEach((function(e,n){var r=document.getElementsByClassName("star"+n);n==t?r[0].classList.add("clickBall"):r[0].classList.remove("clickBall")}))}}}),c=s,u=(n("9900"),n("2877")),p=Object(u["a"])(c,a,o,!1,null,"04a51804",null),h=p.exports,m={name:"App",components:{HelloWorld:h},data:function(){return{check:!0,num1:9,num:9}},computed:{hengTest:function(){for(var t=[],e=1;e<=this.num;e++){var n={};n.title="行星"+e,n.num=100*e,n.unit="克",n.percent=(Math.floor(10*Math.random())%2==0?"+":"-")+e+"%",t.push(n)}return t}},methods:{qrBtn:function(){this.num=this.num1,this.check=!1,this.check=!0}}},d=m,f=(n("034f"),Object(u["a"])(d,i,l,!1,null,null,null)),v=f.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(v)}}).$mount("#app")},"85ec":function(t,e,n){},9900:function(t,e,n){"use strict";n("2848")}});
//# sourceMappingURL=app.6e6d0ebe.js.map